workflows:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ iOS Build Workflow
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ios-workflow:
    name: iOS Release Build
    max_build_duration: 60
    instance_type: mac_mini_m2
    
    environment:
      flutter: stable
      xcode: latest
      cocoapods: default
      groups:
        - ios_credentials  # Ø£Ø¶Ù Ù‡Ø°Ø§ Ù…Ù† Dashboard
      vars:
        BUNDLE_ID: "com.yourcompany.test7"  # ØºÙŠÙ‘Ø± Ù‡Ø°Ø§
    
    scripts:
      # ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
      - name: Clean project
        script: |
          flutter clean
          
      # ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù…
      - name: Get Flutter packages
        script: |
          flutter pub get
          
      # ØªØ«Ø¨ÙŠØª CocoaPods
      - name: Install CocoaPods
        script: |
          cd ios && pod install
          
      # Ø¨Ù†Ø§Ø¡ iOS App
      - name: Build iOS App
        script: |
          flutter build ios --release --no-codesign
          
      # ØªØ­ÙˆÙŠÙ„ .app Ø¥Ù„Ù‰ .ipa
      - name: Create unsigned IPA
        script: |
          cd build/ios/iphoneos
          mkdir -p Payload
          cp -r Runner.app Payload/
          zip -r Runner-unsigned.ipa Payload
          mv Runner-unsigned.ipa ../../../
    
    artifacts:
      - Runner-unsigned.ipa
      - build/ios/iphoneos/*.app
      - /tmp/xcodebuild_logs/*.log
    
    publishing:
      email:
        recipients:
          - your-email@example.com  # ØºÙŠÙ‘Ø± Ù‡Ø°Ø§
        notify:
          success: true
          failure: true

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ¤– Android Build Workflow
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  android-workflow:
    name: Android Release Build
    max_build_duration: 30
    instance_type: mac_mini_m2
    
    environment:
      flutter: stable
      java: 17
    
    scripts:
      - name: Clean project
        script: |
          flutter clean
          
      - name: Get Flutter packages
        script: |
          flutter pub get
          
      - name: Build Android APK
        script: |
          flutter build apk --release
          
      - name: Build Android App Bundle
        script: |
          flutter build appbundle --release
    
    artifacts:
      - build/app/outputs/flutter-apk/*.apk
      - build/app/outputs/bundle/release/*.aab
    
    publishing:
      email:
        recipients:
          - your-email@example.com  # ØºÙŠÙ‘Ø± Ù‡Ø°Ø§
        notify:
          success: true
          failure: true
